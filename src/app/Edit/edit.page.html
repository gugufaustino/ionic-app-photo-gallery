<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Novo <br />
      <span class="sub-title">Crie um novo pedido</span>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form novalidate [formGroup]="componentForm" (ngSubmit)="submitForm()">
    <ion-grid>
      <ion-row>
        <ion-col size="12">
          <ion-list>

            <ion-item>
              <ion-input
                label-placement="floating"
                label="Produto"
                type="text"
                placeholder="Produto (requerido)"
                formControlName="produto"
                [class.ion-invalid]="displayMessage?.produto"
                [class.ion-valid]="!displayMessage?.produto"
                helperText="Tipo de inspeção" fill="outline"
              >
              </ion-input>
              <ion-text color="danger" *ngIf="displayMessage?.produto">
                <p [innerHTML]="displayMessage?.produto"></p>
              </ion-text>
            </ion-item>


            <ion-item>
              <ion-input
                label-placement="floating"
                label="Cliente"
                type="text"
                placeholder="Cliente (requerido)"
                formControlName="cliente"
                [class.ion-invalid]="displayMessage?.cliente"
                [class.ion-valid]="!displayMessage?.cliente"
                helperText="CPF/Nome ou CNPJ/Razão Social" fill="outline"
              >
              </ion-input>
              <ion-text color="danger" *ngIf="displayMessage?.cliente">
                <p [innerHTML]="displayMessage?.cliente"></p>
              </ion-text>
            </ion-item>

            <ion-item>
              <ion-input
                label-placement="floating"
                label="Endereço"
                type="text"
                placeholder="Endereço (requerido)"
                formControlName="endereco"
                [class.ion-invalid]="displayMessage?.endereco"
                [class.ion-valid]="!displayMessage?.endereco"
                helperText="Logradouro, Número" fill="outline"
              >
              </ion-input>
              <ion-text color="danger" *ngIf="displayMessage?.endereco">
                <p [innerHTML]="displayMessage?.endereco"></p>
              </ion-text>
            </ion-item>
            <br />
            <ion-item>
              <ion-input
                label-placement="floating"
                label="Cidade"
                type="text"
                placeholder="Cidade (requerido)"
                formControlName="cidade"
                [class.ion-invalid]="displayMessage?.cidade"
                [class.ion-valid]="!displayMessage?.cidade"
                helperText="Cidade, UF" fill="outline"
              >
              </ion-input>
              <ion-text color="danger" *ngIf="displayMessage?.cidade">
                <p [innerHTML]="displayMessage?.cidade"></p>
              </ion-text>
            </ion-item>

          </ion-list>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col
          size="6"
          *ngFor="let photo of photoService.photos; index as position"
        >
          <ion-img [src]="photo.webviewPath"></ion-img>
        </ion-col>
      </ion-row>
    </ion-grid>

    <ion-fab vertical="bottom" horizontal="end" slot="fixed">
      <ion-fab-button (click)="addPhotoToGallery()">
        <ion-icon name="camera"></ion-icon>
      </ion-fab-button>
      <br />
      <ion-fab-button (click)="save()">
        <ion-icon name="save"></ion-icon>
      </ion-fab-button>
    </ion-fab>
  </form>
</ion-content>
